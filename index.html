<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏û‡∏£‡∏£‡∏Ñ‡πÅ‡∏ú‡πà‡∏ô‡∏î‡∏¥‡∏ô‡∏ò‡∏£‡∏£‡∏° - ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å (Pre-Register)</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Supabase JS -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Leaflet CSS & JS (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- Fonts & Icons -->
    <link
        href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&family=Sarabun:wght@400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="icon" href="data:,">

    <style>
        body {
            font-family: 'Sarabun', sans-serif;
            background-color: #fcfbf9;
            color: #4e342e;
        }

        h1,
        h2,
        h3,
        .font-head {
            font-family: 'Prompt', sans-serif;
        }

        .fade-in {
            animation: fadeIn 0.4s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
        }

        th.sortable {
            cursor: pointer;
            transition: background-color 0.2s;
            user-select: none;
        }

        th.sortable:hover {
            background-color: #f3f4f6;
            color: #ea580c;
        }

        .checkbox-wrapper input:checked+div {
            background-color: #16a34a;
            border-color: #16a34a;
        }

        .checkbox-wrapper input:checked+div svg {
            display: block;
        }

        .password-container {
            position: relative;
        }

        .password-toggle {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: #9ca3af;
            z-index: 10;
        }

        .password-toggle:hover {
            color: #ea580c;
        }

        .aspect-video {
            aspect-ratio: 16 / 9;
        }

        .action-btn {
            z-index: 20;
            position: relative;
        }

        /* Custom Scrollbar */
        .reader-scroll::-webkit-scrollbar {
            width: 8px;
        }

        .reader-scroll::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .reader-scroll::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        .reader-scroll::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Comments */
        .comment-bubble {
            background-color: #f3f4f6;
            border-radius: 1rem;
            border-top-left-radius: 0;
            padding: 0.75rem;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* Chart */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        /* Table Cell Text Wrapping for Address */
        td.address-cell {
            white-space: normal;
            min-width: 200px;
            max-width: 300px;
            line-height: 1.4;
        }

        /* Map specific styles */
        #map {
            height: 500px;
            width: 100%;
            z-index: 1;
            border-radius: 0.75rem;
        }

        /* Form Map */
        #form-map {
            height: 300px;
            width: 100%;
            z-index: 1;
            border-radius: 0.5rem;
            border: 1px solid #e5e7eb;
        }

        .leaflet-popup-content-wrapper {
            font-family: 'Sarabun', sans-serif;
            border-radius: 0.5rem;
        }

        .leaflet-popup-content h4 {
            font-family: 'Prompt', sans-serif;
            font-weight: bold;
            color: #ea580c;
            margin-bottom: 0.25rem;
        }
    </style>
</head>

<body class="flex flex-col min-h-screen">

    <!-- NAV -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-2 flex justify-between items-center">
            <div class="flex items-center gap-3 cursor-pointer" onclick="switchView('landing')">
                <img src="https://firebasestorage.googleapis.com/v0/b/susanonline-9ccbb.firebasestorage.app/o/pak%2Flogopak.png?alt=media&token=30557e25-5d5a-46f8-be24-babeaf095fad"
                    class="w-12 h-12 object-contain drop-shadow-sm hover:scale-105 transition-transform">
                <div class="hidden sm:block">
                    <h1 class="text-xl font-bold text-gray-800 font-head leading-none">‡∏û‡∏£‡∏£‡∏Ñ‡πÅ‡∏ú‡πà‡∏ô‡∏î‡∏¥‡∏ô‡∏ò‡∏£‡∏£‡∏°</h1>
                    <p class="text-[10px] text-gray-500 tracking-wider mt-1">THE LAND OF DHARMA PARTY</p>
                </div>
            </div>

            <div class="flex items-center gap-3">
                <button onclick="switchView('landing')"
                    class="text-gray-600 hover:text-orange-600 font-bold text-sm hidden md:block action-btn">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
                <div id="nav-guest">
                    <button onclick="switchView('auth')"
                        class="bg-orange-600 text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-orange-700 transition shadow-md flex items-center gap-2 action-btn">
                        <i class="fa-solid fa-right-to-bracket"></i> <span>‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>
                    </button>
                </div>
                <div id="nav-user" class="hidden flex gap-2 items-center">
                    <button onclick="switchView('member-center')"
                        class="bg-blue-600 text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-blue-700 transition shadow-md flex items-center gap-2 action-btn">
                        <i class="fa-solid fa-hand-holding-heart"></i> <span class="hidden sm:inline">‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</span>
                    </button>
                    <button onclick="switchView('dashboard')"
                        class="bg-green-600 text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-green-700 transition shadow-md flex items-center gap-2 action-btn">
                        <i class="fa-solid fa-database"></i> <span class="hidden sm:inline">‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</span>
                    </button>
                    <button onclick="handleLogout()"
                        class="bg-gray-100 w-10 h-10 rounded-full hover:bg-red-50 hover:text-red-500 transition flex items-center justify-center shadow-sm action-btn"
                        title="‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö">
                        <i class="fa-solid fa-power-off"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- LANDING PAGE -->
    <div id="view-landing" class="flex-grow fade-in">
        <header class="relative bg-gradient-to-b from-orange-50 via-white to-white pt-16 pb-16 overflow-hidden">
            <div class="container mx-auto px-4 text-center relative z-10">
                <img src="https://firebasestorage.googleapis.com/v0/b/susanonline-9ccbb.firebasestorage.app/o/pak%2Flogopak.png?alt=media&token=30557e25-5d5a-46f8-be24-babeaf095fad"
                    class="w-32 h-32 mx-auto mb-6 drop-shadow-xl animate-pulse">
                <h1 class="text-4xl md:text-6xl font-bold mb-6 text-gray-900 font-head leading-tight">
                    ‡∏û‡∏£‡∏£‡∏Ñ<span class="text-orange-600">‡πÅ‡∏ú‡πà‡∏ô‡∏î‡∏¥‡∏ô‡∏ò‡∏£‡∏£‡∏°</span><br>‡∏®‡∏µ‡∏•‡∏ò‡∏£‡∏£‡∏° <span
                        class="text-blue-700">‡∏ô‡∏≥‡∏ä‡∏≤‡∏ï‡∏¥</span>
                </h1>
                <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto mb-10 leading-relaxed">
                    "‡∏õ‡∏Å‡∏õ‡πâ‡∏≠‡∏á‡∏û‡∏£‡∏∞‡∏û‡∏∏‡∏ó‡∏ò‡∏®‡∏≤‡∏™‡∏ô‡∏≤ ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏ò‡∏£‡∏£‡∏°<br>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏™‡∏∏‡∏Ç‡∏Ç‡∏≠‡∏á‡∏õ‡∏ß‡∏á‡∏ä‡∏ô"
                </p>
                <div
                    class="bg-yellow-50 border border-yellow-200 text-yellow-800 px-4 py-2 rounded-lg inline-block text-sm mb-6">
                    <i class="fa-solid fa-circle-info mr-1"></i>
                    ‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö ‡∏Å‡∏Å‡∏ï.
                </div>
            </div>
        </header>

        <!-- INFOGRAPHIC CONTENT -->
        <div class="container mx-auto px-4 py-4 max-w-6xl space-y-16">
            <section class="bg-white rounded-2xl shadow-md p-6 md:p-8 border-t-4 border-orange-500">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div>
                        <h2 class="text-3xl font-bold text-gray-800 mb-4 font-head">‡∏à‡∏∏‡∏î‡∏¢‡∏∑‡∏ô‡∏ó‡∏≤‡∏á‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô</h2>
                        <p class="text-lg text-gray-600 mb-6 leading-relaxed">
                            ‡πÄ‡∏£‡∏≤‡∏Ñ‡∏∑‡∏≠‡∏ô‡∏ß‡∏±‡∏ï‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô <strong>"‡∏´‡∏•‡∏±‡∏Å‡∏ò‡∏£‡∏£‡∏°"</strong>
                            ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏±‡∏¢‡πÉ‡∏´‡∏°‡πà
                            ‡πÇ‡∏î‡∏¢‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏Å‡∏õ‡πâ‡∏≠‡∏á‡∏û‡∏£‡∏∞‡∏û‡∏∏‡∏ó‡∏ò‡∏®‡∏≤‡∏™‡∏ô‡∏≤‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏õ‡∏≤‡∏Å‡∏ó‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£
                        </p>
                        <div class="bg-orange-50 p-4 rounded-xl border-l-4 border-orange-500 mb-4">
                            <h4 class="font-bold text-orange-800 font-head">‡∏Ñ‡πà‡∏≤‡∏ô‡∏¥‡∏¢‡∏°‡∏´‡∏•‡∏±‡∏Å</h4>
                            <p class="text-sm text-gray-600">‡∏ã‡∏∑‡πà‡∏≠‡∏™‡∏±‡∏ï‡∏¢‡πå ‡∏™‡∏∏‡∏à‡∏£‡∏¥‡∏ï ‡∏¢‡∏∂‡∏î‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏ô‡∏ò‡∏£‡∏£‡∏° ‡∏Å‡∏•‡πâ‡∏≤‡∏´‡∏≤‡∏ç‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ó‡∏≥‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
                            </p>
                        </div>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="chart-container"><canvas id="ideologyChart"></canvas></div>
                        <p class="text-center text-sm text-gray-400 mt-2">‡πÅ‡∏ú‡∏ô‡∏†‡∏≤‡∏û‡πÅ‡∏™‡∏î‡∏á‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢</p>
                    </div>
                </div>
            </section>

            <section
                class="bg-gradient-to-br from-orange-50 to-white rounded-2xl shadow-md p-6 md:p-8 border-l-4 border-orange-500">
                <div class="flex items-center mb-6">
                    <i class="fa-solid fa-vihara text-4xl text-orange-500 mr-3"></i>
                    <h2 class="text-2xl md:text-3xl font-bold text-gray-800 font-head">‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏î‡πâ‡∏≤‡∏ô‡∏®‡∏≤‡∏™‡∏ô‡∏≤‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏á‡∏Ñ‡∏°</h2>
                </div>
                <p class="text-gray-700 mb-8 max-w-3xl">‡∏ú‡∏•‡∏±‡∏Å‡∏î‡∏±‡∏ô‡πÉ‡∏´‡πâ‡∏û‡∏£‡∏∞‡∏û‡∏∏‡∏ó‡∏ò‡∏®‡∏≤‡∏™‡∏ô‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏®‡∏≤‡∏™‡∏ô‡∏≤‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ä‡∏≤‡∏ï‡∏¥ ‡∏à‡∏±‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏û‡∏∏‡∏ó‡∏ò
                    ‡πÅ‡∏•‡∏∞‡∏õ‡∏è‡∏¥‡∏£‡∏π‡∏õ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ò‡∏£‡∏£‡∏°</p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-100">
                        <h3 class="font-bold text-lg text-gray-800 mb-2 border-b pb-2 font-head">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£‡∏û‡∏£‡∏∞‡∏™‡∏á‡∏Ü‡πå</h3>
                        <p class="text-sm text-gray-500 mb-4 h-10">‡πÄ‡∏û‡∏¥‡πà‡∏° "‡∏Ñ‡πà‡∏≤‡∏ô‡∏¥‡∏ï‡∏¢‡∏†‡∏±‡∏ï" (‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏û‡∏£‡∏∞‡∏™‡∏±‡∏á‡∏Ü‡∏≤‡∏ò‡∏¥‡∏Å‡∏≤‡∏£)
                            ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô</p>
                        <div class="chart-container" style="height: 250px;"><canvas id="monkSalaryChart"></canvas></div>
                    </div>
                    <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-100">
                        <h3 class="font-bold text-lg text-gray-800 mb-2 border-b pb-2 font-head">‡∏•‡∏î‡∏†‡∏≤‡∏£‡∏∞‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô</h3>
                        <p class="text-sm text-gray-500 mb-4 h-10">‡∏•‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏°‡∏ó‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏° ‡πÄ‡∏´‡∏•‡∏∑‡∏≠ 1% ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏†‡∏≤‡∏û‡∏Ñ‡∏•‡πà‡∏≠‡∏á
                        </p>
                        <div class="chart-container" style="height: 250px;"><canvas id="socialSecurityChart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-orange-600 text-white p-4 rounded-lg shadow text-center"><i
                            class="fa-solid fa-scroll text-2xl mb-2"></i>
                        <div class="font-bold font-head">‡∏®‡∏≤‡∏™‡∏ô‡∏≤‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ä‡∏≤‡∏ï‡∏¥</div>
                        <div class="text-xs opacity-90">‡∏ö‡∏£‡∏£‡∏à‡∏∏‡πÉ‡∏ô‡∏£‡∏±‡∏ê‡∏ò‡∏£‡∏£‡∏°‡∏ô‡∏π‡∏ç</div>
                    </div>
                    <div class="bg-blue-600 text-white p-4 rounded-lg shadow text-center"><i
                            class="fa-solid fa-building-columns text-2xl mb-2"></i>
                        <div class="font-bold font-head">‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏û‡∏∏‡∏ó‡∏ò</div>
                        <div class="text-xs opacity-90">‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏ß‡∏¥‡∏ñ‡∏µ‡∏û‡∏∏‡∏ó‡∏ò</div>
                    </div>
                    <div class="bg-green-600 text-white p-4 rounded-lg shadow text-center"><i
                            class="fa-solid fa-ban text-2xl mb-2"></i>
                        <div class="font-bold font-head">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏ó‡∏´‡∏≤‡∏£</div>
                        <div class="text-xs opacity-90">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÉ‡∏à</div>
                    </div>
                </div>
            </section>

            <section
                class="bg-gradient-to-br from-green-50 to-white rounded-2xl shadow-md p-6 md:p-8 border-l-4 border-green-500">
                <div class="flex items-center mb-6"><i class="fa-solid fa-seedling text-4xl text-green-600 mr-3"></i>
                    <h2 class="text-2xl md:text-3xl font-bold text-gray-800 font-head">‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡∏£‡∏≤‡∏Å‡∏´‡∏ç‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-100 relative overflow-hidden">
                        <h3 class="font-bold text-xl text-gray-800 mb-4 font-head">‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏†‡∏≤‡∏Ñ‡∏£‡∏±‡∏ê</h3>
                        <div class="space-y-4">
                            <div class="flex items-center p-3 bg-green-50 rounded-lg border-l-4 border-green-500">
                                <i class="fa-solid fa-wheat-awn text-2xl text-green-600 mr-4"></i>
                                <div>
                                    <h4 class="font-bold text-gray-800">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏ä‡∏≤‡∏ß‡∏ô‡∏≤</h4>
                                    <p class="text-xs text-gray-500">‡∏î‡∏π‡πÅ‡∏•‡∏ä‡∏≤‡∏ß‡∏ô‡∏≤‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤</p>
                                </div>
                            </div>
                            <div class="flex items-center p-3 bg-green-50 rounded-lg border-l-4 border-green-600">
                                <i class="fa-solid fa-tree text-2xl text-green-700 mr-4"></i>
                                <div>
                                    <h4 class="font-bold text-gray-800">‡∏Å‡∏£‡∏∞‡∏ó‡∏£‡∏ß‡∏á‡∏¢‡∏≤‡∏á‡∏û‡∏≤‡∏£‡∏≤</h4>
                                    <p class="text-xs text-gray-500">‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏Ñ‡∏≤‡∏¢‡∏≤‡∏á‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-100 relative overflow-hidden">
                        <h3 class="font-bold text-xl text-gray-800 mb-4 font-head">‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à‡∏û‡∏¥‡πÄ‡∏®‡∏©</h3>
                        <div class="grid grid-cols-1 gap-4">
                            <div class="flex items-center p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                                <i class="fa-solid fa-ship text-2xl text-blue-600 mr-4"></i>
                                <div>
                                    <h4 class="font-bold text-gray-800">‡∏Ç‡∏∏‡∏î "‡∏Ñ‡∏•‡∏≠‡∏á‡πÑ‡∏ó‡∏¢"</h4>
                                    <p class="text-xs text-gray-500">‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏£‡∏∑‡∏≠‡∏™‡∏°‡∏∏‡∏ó‡∏£ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏°‡∏´‡∏≤‡∏®‡∏≤‡∏•</p>
                                </div>
                            </div>
                            <div class="flex items-center p-3 bg-yellow-50 rounded-lg border-l-4 border-yellow-500">
                                <i class="fa-solid fa-solar-panel text-2xl text-yellow-600 mr-4"></i>
                                <div>
                                    <h4 class="font-bold text-gray-800">‡πÇ‡∏ã‡∏•‡πà‡∏≤‡πÄ‡∏ã‡∏•‡∏•‡πå‡πÄ‡∏™‡∏£‡∏µ</h4>
                                    <p class="text-xs text-gray-500">‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="md:col-span-2 bg-white rounded-2xl shadow-md p-6 border-t-4 border-purple-600">
                    <div class="flex items-center mb-4"><i
                            class="fa-solid fa-graduation-cap text-3xl text-purple-600 mr-3"></i>
                        <h2 class="text-2xl font-bold text-gray-800 font-head">‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÇ‡∏•‡∏Å‡∏¢‡∏∏‡∏Ñ‡πÉ‡∏´‡∏°‡πà</h2>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mt-6">
                        <div class="p-4 bg-purple-50 rounded-xl text-center border border-purple-100"><i
                                class="fa-brands fa-bitcoin text-2xl text-purple-600 mb-2"></i>
                            <div class="font-bold text-sm text-purple-900">Crypto & Finance</div>
                            <div class="text-xs text-gray-500">‡∏£‡∏π‡πâ‡∏ó‡∏±‡∏ô‡πÇ‡∏•‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô</div>
                        </div>
                        <div class="p-4 bg-purple-50 rounded-xl text-center border border-purple-100"><i
                                class="fa-solid fa-campground text-2xl text-purple-600 mb-2"></i>
                            <div class="font-bold text-sm text-purple-900">Survival Skills</div>
                            <div class="text-xs text-gray-500">‡∏ß‡∏¥‡∏ä‡∏≤‡πÄ‡∏≠‡∏≤‡∏ï‡∏±‡∏ß‡∏£‡∏≠‡∏î</div>
                        </div>
                        <div class="p-4 bg-purple-50 rounded-xl text-center border border-purple-100"><i
                                class="fa-solid fa-spa text-2xl text-purple-600 mb-2"></i>
                            <div class="font-bold text-sm text-purple-900">‡∏™‡∏°‡∏≤‡∏ò‡∏¥‡∏†‡∏≤‡∏ß‡∏ô‡∏≤</div>
                            <div class="text-xs text-gray-500">‡∏ó‡∏∏‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô</div>
                        </div>
                    </div>
                </div>
                <div class="md:col-span-1 bg-white rounded-2xl shadow-md p-6 border-t-4 border-gray-600">
                    <div class="flex items-center mb-4"><i
                            class="fa-solid fa-handshake text-3xl text-gray-600 mr-3"></i>
                        <h2 class="text-2xl font-bold text-gray-800 font-head">‡∏Ñ‡πà‡∏≤‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h2>
                    </div>
                    <div class="chart-container" style="height: 200px;"><canvas id="membershipChart"></canvas></div>
                    <div class="text-center mt-2">
                        <p class="text-xs text-gray-500">‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Ñ‡πà‡∏≤‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏û‡∏£‡∏£‡∏Ñ (‡∏ö‡∏≤‡∏ó)</p>
                    </div>
                </div>
            </section>
        </div>

        <div class="container mx-auto px-4 py-12 max-w-6xl">
            <section class="py-16 bg-white relative overflow-hidden border-t border-gray-100">
                <div class="container mx-auto px-4 relative z-10 text-center">
                    <h2 class="text-3xl font-bold font-head text-gray-800 mb-8">‡∏£‡πà‡∏ß‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤</h2>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-5xl mx-auto">
                        <div
                            class="bg-gradient-to-br from-orange-50 to-white border border-orange-100 rounded-3xl p-8 shadow-lg transition transform hover:-translate-y-1">
                            <h3 class="text-2xl font-bold text-gray-800 mb-4 font-head">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÄ‡∏õ‡πá‡∏ô "‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏û‡∏£‡∏£‡∏Ñ"</h3>
                            <button onclick="handlePublicAction('member')"
                                class="w-full py-3 bg-white border-2 border-orange-600 text-orange-600 font-bold rounded-xl hover:bg-orange-600 hover:text-white transition shadow-sm action-btn">‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏á</button>
                        </div>
                        <div
                            class="bg-gradient-to-br from-blue-50 to-white border border-blue-100 rounded-3xl p-8 shadow-lg transition transform hover:-translate-y-1">
                            <h3 class="text-2xl font-bold text-gray-800 mb-4 font-head">‡∏≠‡∏≤‡∏™‡∏≤‡πÄ‡∏õ‡πá‡∏ô "‡∏ú‡∏π‡πâ‡πÅ‡∏ó‡∏ô‡∏£‡∏≤‡∏©‡∏é‡∏£ (‡∏™.‡∏™.)"
                            </h3>
                            <button onclick="handlePublicAction('candidate')"
                                class="w-full py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition shadow-lg action-btn">‡πÄ‡∏™‡∏ô‡∏≠‡∏ï‡∏±‡∏ß</button>
                        </div>
                    </div>
                </div>
            </section>

            <footer class="bg-gray-900 text-gray-400 py-10 mt-12 text-sm">
                <div class="container mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="text-center md:text-left">
                        <h4 class="text-white font-bold text-lg mb-4 font-head">‡∏û‡∏£‡∏£‡∏Ñ‡πÅ‡∏ú‡πà‡∏ô‡∏î‡∏¥‡∏ô‡∏ò‡∏£‡∏£‡∏°</h4>
                        <p class="mb-4">90/37 ‡∏°. 7 ‡∏ï.‡∏Ñ‡∏•‡∏≠‡∏á‡∏™‡∏≠‡∏á ‡∏≠.‡∏Ñ‡∏•‡∏≠‡∏á‡∏´‡∏•‡∏ß‡∏á ‡∏à.‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ 12120</p>
                        <p class="text-orange-500 font-bold text-lg"><i class="fa-solid fa-phone mr-2"></i> 082-222-3615
                        </p>
                    </div>
                    <div class="text-center">
                        <img src="https://firebasestorage.googleapis.com/v0/b/susanonline-9ccbb.firebasestorage.app/o/pak%2Flogopak.png?alt=media&token=30557e25-5d5a-46f8-be24-babeaf095fad"
                            class="w-20 h-20 mx-auto mb-4 opacity-80">
                        <p class="text-xs">"‡∏®‡∏µ‡∏•‡∏ò‡∏£‡∏£‡∏°‡∏ô‡∏≥‡∏ä‡∏≤‡∏ï‡∏¥"</p>
                    </div>
                    <div class="text-center md:text-right">
                        <p class="font-bold text-gray-300 mb-2">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï‡∏™‡∏∑‡πà‡∏≠‡∏´‡∏≤‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ó‡∏≤‡∏á‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå</p>
                        <p class="text-xs leading-relaxed">‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï: ‡∏ô‡∏≤‡∏¢‡∏ß‡∏¥‡∏ô‡∏±‡∏¢ ‡∏ú‡∏±‡∏ô‡∏≠‡∏≤‡∏Å‡∏≤‡∏®<br>‡∏ú‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏à‡πâ‡∏≤‡∏á:
                            ‡∏û‡∏£‡∏£‡∏Ñ‡πÅ‡∏ú‡πà‡∏ô‡∏î‡∏¥‡∏ô‡∏ò‡∏£‡∏£‡∏°<br>‡∏ú‡∏•‡∏¥‡∏ï‡πÄ‡∏°‡∏∑‡πà‡∏≠: 26 ‡∏û.‡∏¢. 2568 ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô 1 ‡∏ä‡∏∏‡∏î</p>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <!-- AUTH PAGE -->
    <div id="view-auth" class="hidden flex-grow flex items-center justify-center p-4 bg-gray-100 fade-in">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden border-t-4 border-orange-600">
            <div class="p-8 text-center">
                <img src="https://firebasestorage.googleapis.com/v0/b/susanonline-9ccbb.firebasestorage.app/o/pak%2Flogopak.png?alt=media&token=30557e25-5d5a-46f8-be24-babeaf095fad"
                    class="w-20 h-20 mx-auto mb-4">
                <h2 class="text-2xl font-bold text-gray-800 font-head">‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h2>
                <form onsubmit="handleAuth(event)" class="text-left mt-6">
                    <input type="email" id="email"
                        class="w-full p-3 mb-4 border rounded-lg focus:ring-2 focus:ring-orange-500 outline-none"
                        placeholder="‡∏≠‡∏µ‡πÄ‡∏°‡∏•" required autocomplete="username">
                    <div class="password-container mb-6">
                        <input type="password" id="password"
                            class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-orange-500 outline-none pr-10"
                            placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" required autocomplete="current-password">
                        <i class="fa-solid fa-eye password-toggle" onclick="togglePassword('password', this)"></i>
                    </div>
                    <button
                        class="w-full bg-orange-600 text-white font-bold py-3 rounded-lg hover:bg-orange-700 shadow-lg transition action-btn">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
                </form>
                <div class="mt-4 flex justify-between text-xs text-gray-400">
                    <span class="cursor-pointer hover:text-orange-600"
                        onclick="handleForgotPassword()">‡∏•‡∏∑‡∏°‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô?</span>
                    <span class="cursor-pointer hover:text-orange-600"
                        onclick="switchAuthMode('register')">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÅ‡∏≠‡∏û</span>
                </div>
            </div>
        </div>
    </div>

    <!-- RESET PASSWORD PAGE -->
    <div id="view-reset" class="hidden flex-grow flex items-center justify-center p-4 bg-gray-100 fade-in">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden border-t-4 border-red-500">
            <div class="p-8 text-center">
                <h2 class="text-2xl font-bold text-gray-800 font-head">‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà</h2>
                <form onsubmit="handleUpdatePassword(event)" class="text-left mt-6">
                    <div class="password-container mb-6">
                        <input type="password" id="new-password"
                            class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-red-500 outline-none pr-10"
                            placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà" required minlength="6" autocomplete="new-password">
                        <i class="fa-solid fa-eye password-toggle" onclick="togglePassword('new-password', this)"></i>
                    </div>
                    <button
                        class="w-full bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 shadow-lg transition action-btn">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</button>
                </form>
            </div>
        </div>
    </div>

    <!-- MEMBER CENTER PAGE -->
    <div id="view-member-center" class="hidden flex-grow bg-gray-50 fade-in">
        <div class="container mx-auto px-4 py-8 max-w-6xl">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold text-gray-800 font-head">‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏£‡∏ß‡∏°‡∏û‡∏•‡∏±‡∏á‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h2>
                <div class="h-1 w-24 bg-blue-500 mx-auto rounded-full mt-2"></div>
            </div>
            <div class="mb-12">
                <div class="flex justify-between items-end mb-6">
                    <h3 class="text-xl font-bold text-gray-800 font-head border-l-4 border-orange-500 pl-3">
                        ‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h3>
                    <button id="btn-create-post" onclick="openPostModal('create')"
                        class="hidden bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-bold shadow hover:bg-orange-700 transition action-btn"><i
                            class="fa-solid fa-plus mr-1"></i> ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πà‡∏≤‡∏ß‡πÉ‡∏´‡∏°‡πà</button>
                </div>
                <div id="news-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="col-span-full text-center py-12 text-gray-400 bg-white rounded-xl border border-dashed">
                        ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£...</div>
                </div>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
                <div class="bg-white rounded-2xl shadow-md overflow-hidden border border-gray-100">
                    <div class="bg-orange-600 p-6 text-white text-center"><i
                            class="fa-solid fa-hand-holding-heart text-5xl mb-4"></i>
                        <h3 class="text-2xl font-bold font-head">‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏≠‡∏∏‡∏î‡∏°‡∏Å‡∏≤‡∏£‡∏ì‡πå</h3>
                        <p class="text-orange-100 text-sm">‡∏£‡πà‡∏ß‡∏°‡πÅ‡∏™‡∏î‡∏á‡∏û‡∏•‡∏±‡∏á‡∏õ‡∏Å‡∏õ‡πâ‡∏≠‡∏á‡∏û‡∏£‡∏∞‡∏û‡∏∏‡∏ó‡∏ò‡∏®‡∏≤‡∏™‡∏ô‡∏≤</p>
                    </div>
                    <div class="p-6"><button onclick="alert('‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏£‡πà‡∏ß‡∏°‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏≠‡∏∏‡∏î‡∏°‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏û‡∏£‡∏£‡∏Ñ! (‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö)')"
                            class="w-full py-3 bg-orange-50 text-orange-600 border border-orange-200 rounded-xl font-bold hover:bg-orange-600 hover:text-white transition action-btn"><i
                                class="fa-solid fa-pen-nib mr-2"></i> ‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô</button></div>
                </div>
                <div class="bg-white rounded-2xl shadow-md overflow-hidden border border-gray-100 relative group">
                    <div class="bg-blue-600 p-6 text-white text-center relative"><i
                            class="fa-solid fa-book-open text-5xl mb-4"></i>
                        <h3 class="text-2xl font-bold font-head">‡∏Ñ‡∏•‡∏±‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ</h3><button id="btn-add-knowledge"
                            onclick="document.getElementById('modal-knowledge').classList.remove('hidden'); document.getElementById('modal-knowledge').classList.add('flex');"
                            class="hidden absolute top-4 right-4 bg-white/20 hover:bg-white/40 text-white p-2 rounded-full transition backdrop-blur-sm border border-white/30"><i
                                class="fa-solid fa-plus"></i></button>
                    </div>
                    <div class="p-6">
                        <ul id="knowledge-list" class="space-y-3">
                            <li class="text-center text-gray-400 text-sm py-4">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden max-w-4xl mx-auto mb-12">
                <div class="bg-gray-800 p-4 px-6 text-white">
                    <h3 class="text-lg font-bold font-head"><i class="fa-regular fa-comments mr-2"></i> ‡πÄ‡∏™‡∏ô‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô
                        / ‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h3>
                </div>
                <div class="p-8">
                    <form onsubmit="handleFeedbackSubmit(event)">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div><label class="text-xs font-bold text-gray-500 mb-1 block">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á</label><select
                                    id="fb-type" required class="w-full p-3 border rounded-lg bg-gray-50 outline-none">
                                    <option value="suggestion">üí° ‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞</option>
                                    <option value="complaint">‚ö†Ô∏è ‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</option>
                                    <option value="question">‚ùì ‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°</option>
                                </select></div>
                            <div><label class="text-xs font-bold text-gray-500 mb-1 block">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á</label><input
                                    id="fb-topic" required class="w-full p-3 border rounded-lg bg-gray-50 outline-none">
                            </div>
                        </div>
                        <div class="mb-6"><label
                                class="text-xs font-bold text-gray-500 mb-1 block">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</label><textarea
                                id="fb-detail" required
                                class="w-full p-3 border rounded-lg bg-gray-50 outline-none h-32"></textarea></div>
                        <div class="flex justify-end"><button type="submit" id="btn-feedback-submit"
                                class="bg-green-600 text-white px-6 py-3 rounded-xl font-bold shadow-lg hover:bg-green-700 transition flex items-center gap-2 action-btn"><i
                                    class="fa-solid fa-paper-plane"></i> ‡∏™‡πà‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á</button></div>
                    </form>
                </div>
            </div>
            <div class="mt-12">
                <h3 class="text-xl font-bold text-gray-800 font-head mb-6 text-center">üìã ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á</h3>
                <div class="bg-white rounded-xl shadow-sm border overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm text-left text-gray-600">
                            <thead class="bg-gray-100 text-gray-700 uppercase text-xs font-bold">
                                <tr>
                                    <th class="px-6 py-3">ID</th>
                                    <th class="px-6 py-3">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
                                    <th class="px-6 py-3">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>
                                    <th class="px-6 py-3">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠</th>
                                    <th class="px-6 py-3 text-right">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                </tr>
                            </thead>
                            <tbody id="feedback-table-body" class="divide-y divide-gray-100"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- POST MODAL -->
    <div id="modal-post"
        class="fixed inset-0 bg-black/60 hidden items-center justify-center z-50 backdrop-blur-sm flex overflow-y-auto py-4">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-2xl mx-4 my-auto relative">
            <div class="px-6 py-4 border-b flex justify-between items-center rounded-t-xl bg-orange-600 text-white">
                <h3 class="text-lg font-bold font-head" id="modal-post-title">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πà‡∏≤‡∏ß‡πÉ‡∏´‡∏°‡πà</h3>
                <button onclick="closePostModal()" class="hover:text-gray-300"><i
                        class="fa-solid fa-xmark text-xl"></i></button>
            </div>
            <div class="p-6">
                <form id="postForm" onsubmit="savePost(event)">
                    <input type="hidden" id="post-id">
                    <div class="mb-4"><label class="text-xs font-bold text-gray-500 mb-1 block">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏Ç‡πà‡∏≤‡∏ß</label><input
                            id="inp-post-title" required class="w-full p-2 border rounded"></div>
                    <div id="post-target-wrapper" class="mb-4 hidden"><label
                            class="text-xs font-bold text-gray-500 mb-1 block">‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà‡πÉ‡∏ô‡∏ô‡∏≤‡∏°</label><select
                            id="inp-post-target" class="w-full p-2 border rounded bg-white">
                            <option value="ALL">‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á</option>
                        </select></div>
                    <div class="mb-4"><label
                            class="text-xs font-bold text-gray-500 mb-1 block">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö</label><input type="file"
                            id="inp-post-img" accept="image/*" class="w-full p-2 border rounded bg-gray-50 text-sm">
                        <div id="post-img-preview" class="mt-2 hidden"><img src=""
                                class="h-32 rounded border object-cover"></div>
                    </div>
                    <div class="mb-6"><label
                            class="text-xs font-bold text-gray-500 mb-1 block">‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ç‡πà‡∏≤‡∏ß</label><textarea
                            id="inp-post-content" required class="w-full p-2 border rounded h-32"></textarea></div>
                    <div class="flex justify-end gap-2 pt-4 border-t"><button type="button" onclick="closePostModal()"
                            class="px-4 py-2 bg-gray-100 rounded hover:bg-gray-200 action-btn">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button><button
                            type="submit" id="btn-post-save"
                            class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 shadow font-bold action-btn">‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏Ç‡πà‡∏≤‡∏ß</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- DASHBOARD PAGE -->
    <div id="view-dashboard" class="hidden flex-grow bg-gray-50 fade-in">
        <div class="container mx-auto px-4 py-8 max-w-6xl">
            <!-- EXECUTIVE SECTION -->
            <div class="mb-10">
                <div class="flex items-center gap-3 mb-6">
                    <div class="bg-orange-600 text-white w-10 h-10 rounded-lg flex items-center justify-center shadow">
                        <i class="fa-solid fa-users-gear text-lg"></i>
                    </div>
                    <h2 class="text-2xl font-bold text-gray-800 font-head">‡∏Ñ‡∏ì‡∏∞‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏û‡∏£‡∏£‡∏Ñ</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="executive-container"></div>
            </div>

            <!-- ECT REALTIME DATA -->
            <div class="mb-10 bg-white rounded-xl shadow-sm border p-6 relative overflow-hidden">
                <div class="flex items-center justify-between mb-4 border-b pb-4">
                    <div class="flex items-center gap-2">
                        <div
                            class="w-8 h-8 rounded-full bg-orange-100 flex items-center justify-center text-orange-600">
                            <i class="fa-solid fa-landmark text-sm"></i>
                        </div>
                        <h3 class="text-lg font-bold text-gray-800 font-head">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏û‡∏£‡∏£‡∏Ñ (Live ‡∏à‡∏≤‡∏Å ‡∏Å‡∏Å‡∏ï.)</h3>
                    </div>
                    <span
                        class="text-[10px] bg-green-100 text-green-700 px-2 py-1 rounded-full font-bold border border-green-200"><i
                            class="fa-solid fa-signal mr-1"></i>Realtime</span>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                    <div class="p-4 bg-blue-50 rounded-lg border border-blue-100">
                        <div class="text-xs text-blue-800 font-bold mb-1">‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                        <div class="text-2xl font-bold text-blue-600 mb-2" id="dash-ect-member-total">-</div>
                    </div>
                    <div class="p-4 bg-orange-50 rounded-lg border border-orange-100">
                        <div class="text-xs text-orange-800 font-bold mb-1">‡∏™‡∏≤‡∏Ç‡∏≤ / ‡∏ï‡∏±‡∏ß‡πÅ‡∏ó‡∏ô</div>
                        <div class="flex gap-4">
                            <div><span class="text-[10px] block">‡∏™‡∏≤‡∏Ç‡∏≤</span><span
                                    class="text-xl font-bold text-orange-600" id="dash-ect-branch-total">-</span></div>
                            <div><span class="text-[10px] block">‡∏ï‡∏±‡∏ß‡πÅ‡∏ó‡∏ô</span><span
                                    class="text-xl font-bold text-orange-600" id="dash-ect-rep-total">-</span></div>
                        </div>
                    </div>
                    <div class="p-4 bg-green-50 rounded-lg border border-green-100">
                        <div class="text-xs text-green-800 font-bold mb-1" id="dash-ect-month-name">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß</div>
                        <div class="flex justify-around h-16">
                            <div class="text-center">
                                <div class="text-green-600 text-xl font-bold" id="dash-ect-month-inc">-</div>
                                <div class="text-[10px]">‡πÄ‡∏û‡∏¥‡πà‡∏°</div>
                            </div>
                            <div class="text-center">
                                <div class="text-red-500 text-xl font-bold" id="dash-ect-month-dec">-</div>
                                <div class="text-[10px]">‡∏•‡∏î</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <hr class="border-gray-200 mb-8">

            <div class="flex flex-col md:flex-row justify-between items-center gap-4 mb-8">
                <div>
                    <h2 class="text-2xl font-bold text-gray-800 font-head">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</h2>
                    <p class="text-sm text-gray-500" id="user-display">User</p>
                </div>
                <div class="flex gap-2 flex-wrap">
                    <button onclick="toggleMapView()" id="btn-toggle-map"
                        class="bg-purple-600 text-white hover:bg-purple-700 px-4 py-2 rounded-lg font-bold text-sm shadow flex items-center gap-2 action-btn"><i
                            class="fa-solid fa-map-location-dot"></i> <span id="btn-map-text">‡∏î‡∏π‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà</span></button>
                    <button onclick="handlePublicAction('member')"
                        class="bg-blue-600 text-white hover:bg-blue-700 px-4 py-2 rounded-lg font-bold text-sm shadow flex items-center gap-2 action-btn"><i
                            class="fa-solid fa-user-plus"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</button>
                    <button onclick="handlePublicAction('candidate')"
                        class="bg-orange-600 text-white hover:bg-orange-700 px-4 py-2 rounded-lg font-bold text-sm shadow flex items-center gap-2 action-btn"><i
                            class="fa-solid fa-user-tie"></i> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£ ‡∏™.‡∏™.</button>
                </div>
            </div>

            <div class="flex gap-2 mb-6 overflow-x-auto pb-2" id="dashboard-filters">
                <button onclick="filterDashboard('all')"
                    class="filter-btn px-4 py-2 rounded-lg bg-gray-200 text-gray-700 text-sm font-bold whitespace-nowrap active-filter action-btn"
                    data-filter="all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
                <button onclick="filterDashboard('member')"
                    class="filter-btn px-4 py-2 rounded-lg bg-white border text-gray-600 text-sm font-bold whitespace-nowrap action-btn"
                    data-filter="member">‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏û‡∏£‡∏£‡∏Ñ</button>
                <button onclick="filterDashboard('candidate')"
                    class="filter-btn px-4 py-2 rounded-lg bg-white border text-gray-600 text-sm font-bold whitespace-nowrap action-btn"
                    data-filter="candidate">‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£ ‡∏™.‡∏™.</button>
                <button onclick="filterDashboard('feedback')"
                    class="filter-btn px-4 py-2 rounded-lg bg-white border text-gray-600 text-sm font-bold whitespace-nowrap action-btn"
                    data-filter="feedback">‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞</button>
                <button onclick="filterDashboard('post')"
                    class="filter-btn px-4 py-2 rounded-lg bg-white border text-gray-600 text-sm font-bold whitespace-nowrap action-btn"
                    data-filter="post">‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£</button>
                <button onclick="filterDashboard('knowledge')"
                    class="filter-btn px-4 py-2 rounded-lg bg-white border text-gray-600 text-sm font-bold whitespace-nowrap action-btn"
                    data-filter="knowledge">‡∏Ñ‡∏•‡∏±‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ</button>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6">
                <div class="bg-white p-4 rounded-xl shadow-sm border-l-4 border-gray-500">
                    <p class="text-xs text-gray-500 font-bold">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏≠‡∏û</p>
                    <h3 class="text-2xl font-bold text-gray-700" id="stat-users">-</h3>
                </div>
                <div class="bg-white p-4 rounded-xl shadow-sm border-l-4 border-blue-500">
                    <p class="text-xs text-gray-500 font-bold">‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏û‡∏£‡∏£‡∏Ñ</p>
                    <h3 class="text-2xl font-bold text-blue-600" id="stat-total">-</h3>
                </div>
                <div class="bg-white p-4 rounded-xl shadow-sm border-l-4 border-orange-500">
                    <p class="text-xs text-gray-500 font-bold">‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£ ‡∏™.‡∏™.</p>
                    <h3 class="text-2xl font-bold text-orange-600" id="stat-candidate">-</h3>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-sm border p-6 mb-6">
                <h3 class="text-lg font-bold text-gray-800 font-head mb-4"><i
                        class="fa-solid fa-map-location-dot text-orange-600 mr-2"></i> ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏£‡∏≤‡∏¢‡∏†‡∏≤‡∏Ñ</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4" id="region-stats-container"></div>
            </div>

            <!-- TABLE VIEW -->
            <div id="dashboard-table-view">
                <div class="mb-4 relative">
                    <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"><i
                            class="fa-solid fa-search text-gray-400"></i></div>
                    <input type="text" id="inp-search" onkeyup="handleSearch()"
                        class="block w-full p-4 pl-10 text-sm border rounded-lg bg-white shadow-sm"
                        placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤... (‡∏ä‡∏∑‡πà‡∏≠, ‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å, ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£)">
                </div>
                <div class="bg-white rounded-xl shadow-sm border overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm text-left text-gray-600">
                            <thead class="bg-gray-100 text-gray-600 uppercase text-xs font-bold">
                                <tr>
                                    <th class="px-6 py-4 sortable" onclick="sortTable('member_id')">‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å <i
                                            class="fa-solid fa-sort ml-1"></i></th>
                                    <th class="px-6 py-4 sortable" onclick="sortTable('start_date')">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏±‡∏Ñ‡∏£ <i
                                            class="fa-solid fa-sort ml-1"></i></th>
                                    <th class="px-6 py-4 sortable" onclick="sortTable('name')">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• <i
                                            class="fa-solid fa-sort ml-1"></i></th>
                                    <th class="px-6 py-4 sortable" onclick="sortTable('type')">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ <i
                                            class="fa-solid fa-sort ml-1"></i></th>
                                    <th class="px-6 py-4">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</th>
                                    <th class="px-6 py-4">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà (‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î)</th>
                                    <th class="px-6 py-4 sortable" onclick="sortTable('province')">‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î/‡∏†‡∏≤‡∏Ñ <i
                                            class="fa-solid fa-sort ml-1"></i></th>
                                    <th class="px-6 py-4 text-right">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                                </tr>
                            </thead>
                            <tbody id="table-body" class="divide-y divide-gray-100"></tbody>
                        </table>
                    </div>
                    <div id="loading" class="hidden py-12 text-center text-gray-400">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
                    <div id="empty-state" class="hidden py-12 text-center text-gray-400">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</div>
                </div>
            </div>

            <!-- MAP VIEW CONTAINER -->
            <div id="dashboard-map-view" class="hidden bg-white rounded-xl shadow-sm border p-4 h-[600px]">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="font-bold text-gray-800 text-lg font-head"><i
                            class="fa-solid fa-map text-purple-600 mr-2"></i> ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å (‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î)
                    </h3>
                    <div class="text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded"><i
                            class="fa-solid fa-info-circle mr-1"></i> ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≤‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏</div>
                </div>
                <div id="map"></div>
            </div>
        </div>
    </div>

    <!-- MODAL FEEDBACK MANAGE -->
    <div id="modal-feedback-manage"
        class="fixed inset-0 bg-black/60 hidden items-center justify-center z-50 backdrop-blur-sm flex overflow-y-auto py-4">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-lg mx-4 my-auto relative">
            <div class="px-6 py-4 border-b flex justify-between items-center rounded-t-xl bg-purple-600 text-white">
                <h3 class="text-lg font-bold font-head"><i class="fa-solid fa-list-check mr-2"></i> ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞
                </h3><button onclick="document.getElementById('modal-feedback-manage').classList.add('hidden')"
                    class="hover:text-gray-300"><i class="fa-solid fa-xmark text-xl"></i></button>
            </div>
            <div class="p-6">
                <input type="hidden" id="fb-manage-id">
                <div class="mb-4 bg-gray-50 p-3 rounded-lg border border-gray-100">
                    <div class="flex justify-between items-start mb-2"><span id="fb-manage-type"
                            class="text-xs font-bold px-2 py-1 rounded bg-gray-200 text-gray-600">Type</span><span
                            id="fb-manage-date" class="text-xs text-gray-400">Date</span></div>
                    <h4 id="fb-manage-topic" class="font-bold text-gray-800 text-lg mb-2">Topic</h4>
                    <p id="fb-manage-detail" class="text-sm text-gray-600 whitespace-pre-line">Detail...</p>
                    <p class="text-xs text-gray-400 mt-2">‡πÇ‡∏î‡∏¢: <span id="fb-manage-by">User</span></p>
                </div>
                <div class="mb-6"><label class="text-xs font-bold text-gray-500 mb-1 block">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label><select
                        id="fb-manage-status" class="w-full p-2 border rounded bg-white mb-2">
                        <option value="PENDING">‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö</option>
                        <option value="RESOLVED">‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</option>
                    </select></div>
                <div class="flex justify-end gap-2 pt-4 border-t"><button
                        onclick="document.getElementById('modal-feedback-manage').classList.add('hidden')"
                        class="px-4 py-2 bg-gray-100 rounded hover:bg-gray-200 action-btn">‡∏õ‡∏¥‡∏î</button><button
                        onclick="saveFeedbackStatus(event)"
                        class="px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 shadow font-bold action-btn">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL FORM (MEMBER - UPDATED ADDRESS & DRAGGABLE MAP) -->
    <div id="modal-form"
        class="fixed inset-0 bg-black/60 hidden items-center justify-center z-50 backdrop-blur-sm flex overflow-y-auto py-4">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-3xl mx-4 my-auto relative">
            <div id="modal-header"
                class="px-6 py-4 border-b flex justify-between items-center rounded-t-xl bg-gray-800 text-white">
                <h3 class="text-lg font-bold font-head" id="modal-title">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</h3>
                <button onclick="closeModal()" class="hover:text-gray-300"><i
                        class="fa-solid fa-xmark text-xl"></i></button>
            </div>
            <div class="p-6">
                <div id="admin-tools" class="hidden mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
                    <h4 class="text-sm font-bold text-yellow-800 mb-2 border-b border-yellow-200 pb-1">
                        ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <label class="flex items-center gap-2 cursor-pointer font-bold text-yellow-800"><input
                                type="checkbox" id="inp-is-old"
                                class="w-5 h-5 text-yellow-600 rounded"><span>‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏¥‡∏°</span></label>
                        <div id="admin-role-setting" class="hidden"><label
                                class="text-xs font-bold text-yellow-800 block mb-1">‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</label><select
                                id="inp-admin-role"
                                class="w-full p-2 border border-yellow-300 rounded bg-white text-sm">
                                <option value="">‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</option>
                                <option value="ALL">‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</option>
                            </select></div>
                    </div>
                </div>

                <form id="memberForm" onsubmit="saveData(event)">
                    <input type="hidden" id="record-id">
                    <input type="hidden" id="inp-type">
                    <!-- HIDDEN INPUTS FOR MAP COORDS -->
                    <input type="hidden" id="inp-lat">
                    <input type="hidden" id="inp-lng">

                    <h4 class="text-sm font-bold text-gray-800 border-b pb-2 mb-4"><i class="fa-regular fa-id-card"></i>
                        ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</h4>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                        <div class="md:col-span-1"><label
                                class="text-xs font-bold text-gray-500">‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</label><input id="inp-member-id"
                                class="w-full p-2 border rounded font-mono" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ"></div>
                        <div class="md:col-span-2"><label class="text-xs font-bold text-gray-500">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• <span
                                    class="text-red-500">*</span></label><input id="inp-name" required
                                class="w-full p-2 border rounded"></div>
                        <div><label class="text-xs font-bold text-gray-500">‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î</label><input type="date"
                                id="inp-dob" class="w-full p-2 border rounded text-gray-500"></div>
                        <div class="col-span-3 md:col-span-1"><label
                                class="text-xs font-bold text-gray-500">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°</label><input type="date"
                                id="inp-start-date" class="w-full p-2 border rounded text-gray-500"></div>
                        <div><label class="text-xs font-bold text-gray-500">‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô</label><input id="inp-id"
                                maxlength="13" class="w-full p-2 border rounded" placeholder="13 ‡∏´‡∏•‡∏±‡∏Å">
                            <p id="id-error" class="text-xs text-red-500 mt-1 hidden">‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p>
                        </div>
                        <div class="md:col-span-1"><label class="text-xs font-bold text-gray-500">‡∏ú‡∏π‡πâ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</label><input
                                id="inp-recommender" class="w-full p-2 border rounded"></div>
                    </div>

                    <!-- ‚úÖ‚úÖ UPDATED ADDRESS SECTION ‚úÖ‚úÖ -->
                    <h4 class="text-sm font-bold text-gray-800 border-b pb-2 mb-4"><i class="fa-solid fa-house"></i>
                        ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏≤‡∏°‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ö‡πâ‡∏≤‡∏ô</h4>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4">
                        <div class="col-span-1"><label class="text-xs font-bold text-gray-500">‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà</label><input
                                id="inp-house-no" class="w-full p-2 border rounded"></div>
                        <div class="col-span-1"><label
                                class="text-xs font-bold text-gray-500">‡∏´‡∏°‡∏π‡πà‡∏ó‡∏µ‡πà/‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô</label><input id="inp-village"
                                class="w-full p-2 border rounded"></div>
                        <div class="col-span-2"><label class="text-xs font-bold text-gray-500">‡∏ñ‡∏ô‡∏ô/‡∏ã‡∏≠‡∏¢</label><input
                                id="inp-road" class="w-full p-2 border rounded"></div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                        <div><label class="text-xs font-bold text-gray-500">‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î <span
                                    class="text-red-500">*</span></label><select id="inp-prov" required
                                class="w-full p-2 border rounded bg-white" onchange="autoFillRegion()">
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</option>
                            </select></div>
                        <div><label class="text-xs font-bold text-gray-500">‡∏≠‡∏≥‡πÄ‡∏†‡∏≠/‡πÄ‡∏Ç‡∏ï</label><input id="inp-district"
                                class="w-full p-2 border rounded"></div>
                        <div><label class="text-xs font-bold text-gray-500">‡∏ï‡∏≥‡∏ö‡∏•/‡πÅ‡∏Ç‡∏ß‡∏á</label><input id="inp-tambon"
                                class="w-full p-2 border rounded"></div>
                        <div><label class="text-xs font-bold text-gray-500">‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå</label><input id="inp-zip"
                                class="w-full p-2 border rounded"></div>
                    </div>
                    <div class="mb-6 bg-gray-50 p-3 rounded border border-gray-100">
                        <div class="flex items-center gap-3"><label
                                class="text-xs font-bold text-gray-500 whitespace-nowrap">‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ:</label><input
                                id="inp-region" class="w-full p-2 border rounded bg-white text-gray-600 font-bold"
                                readonly></div>
                    </div>

                    <!-- ‚úÖ‚úÖ NEW: FORM MAP (DRAGGABLE MARKER) ‚úÖ‚úÖ -->
                    <div class="mb-6">
                        <label class="text-xs font-bold text-gray-500 block mb-2"><i
                                class="fa-solid fa-map-pin text-red-500 mr-1"></i> ‡∏£‡∏∞‡∏ö‡∏∏‡∏û‡∏¥‡∏Å‡∏±‡∏î‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà
                            (‡∏•‡∏≤‡∏Å‡∏´‡∏°‡∏∏‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç)</label>
                        <div id="form-map"></div>
                        <p class="text-[10px] text-gray-400 mt-1">* ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏Å‡∏•‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</p>
                    </div>

                    <h4 class="text-sm font-bold text-gray-800 border-b pb-2 mb-4"><i class="fa-solid fa-phone"></i>
                        ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</h4>
                    <div class="grid grid-cols-3 gap-4 mb-6">
                        <div class="col-span-3 md:col-span-1"><label
                                class="text-xs font-bold text-gray-500">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</label><input id="inp-phone"
                                maxlength="10" class="w-full p-2 border rounded">
                            <p id="phone-error" class="text-xs text-red-500 mt-1 hidden">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p>
                        </div>
                        <div class="col-span-3 md:col-span-1"><label class="text-xs font-bold text-gray-500">Line
                                ID</label><input id="inp-line" class="w-full p-2 border rounded"></div>
                        <div class="col-span-3 md:col-span-1"><label
                                class="text-xs font-bold text-gray-500">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label><input id="inp-email" type="email"
                                class="w-full p-2 border rounded"></div>
                    </div>

                    <h4 class="text-sm font-bold text-gray-800 border-b pb-2 mb-4"><i
                            class="fa-regular fa-comment-dots"></i> ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</h4>
                    <div class="mb-6"><textarea id="inp-remarks" class="w-full p-2 border rounded h-20"></textarea>
                    </div>

                    <div class="mb-6 bg-gray-50 p-4 rounded-lg border border-gray-100">
                        <label class="flex items-start gap-3 cursor-pointer group">
                            <div class="relative flex items-center pt-1"><input type="checkbox" required id="inp-pdpa"
                                    class="peer h-5 w-5 cursor-pointer appearance-none rounded border border-gray-300 bg-white shadow-sm checked:bg-orange-600 checked:border-orange-600 focus:ring-2 focus:ring-orange-500 transition-all"><i
                                    class="fa-solid fa-check text-white absolute left-1/2 top-1/2 pt-1 -translate-x-1/2 -translate-y-1/2 text-xs opacity-0 peer-checked:opacity-100 transition-opacity pointer-events-none"></i>
                            </div>
                            <span
                                class="text-sm text-gray-600 leading-tight group-hover:text-gray-800 transition">‡∏Ç‡πâ‡∏≤‡∏û‡πÄ‡∏à‡πâ‡∏≤‡∏¢‡∏¥‡∏ô‡∏¢‡∏≠‡∏°‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
                                <span class="text-red-500">*</span></span>
                        </label>
                    </div>

                    <div class="flex justify-end gap-2 pt-4 border-t">
                        <button type="button" onclick="closeModal()"
                            class="px-4 py-2 bg-gray-100 rounded hover:bg-gray-200 action-btn">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                        <button type="submit" id="btn-save"
                            class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 shadow font-bold action-btn">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- KNOWLEDGE MODAL, NEWS READER, ETC. -->
    <div id="modal-knowledge" class="hidden"></div>
    <div id="modal-news-reader" class="hidden"></div>
    <div id="modal-knowledge-read" class="hidden"></div>
    <div id="modal-feedback-read" class="hidden"></div>

    <script src="script.js"></script>
</body>

</html>
